(()=>{"use strict";const e=new Date;e.setHours(e.getHours()+12),(e=>{const t=document.getElementById("timer-hours"),a=document.getElementById("timer-minutes"),r=document.getElementById("timer-seconds");let s;const n=()=>{let l=(()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3;return{timeRemaining:t,hours:Math.floor(t/60/60),minutes:Math.floor(t/60%60),seconds:Math.floor(t%60)}})();l.timeRemaining>0?(t.textContent=l.hours>=10?l.hours:"0"+l.hours,a.textContent=l.minutes>=10?l.minutes:"0"+l.minutes,r.textContent=l.seconds>=10?l.seconds:"0"+l.seconds):(t.textContent="00",a.textContent="00",r.textContent="00",clearInterval(s)),void 0===s&&(s=setInterval(n,1e3))};n()})(e),document.querySelector("body").addEventListener("click",(e=>{const t=document.querySelector("menu");e.target.closest(".menu")?t.classList.add("active-menu"):(!e.target.closest("menu")||e.target.matches(".close-btn")||e.target.matches("menu > ul > li > a"))&&t.classList.remove("active-menu")})),(()=>{const e=document.querySelector(".popup"),t=document.getElementById("service-block");let a,r,s;const n=()=>{a=requestAnimationFrame(n),r>=0?e.style.transform=`translateY(${-r}%)`:(e.style.transform="translateY(0%)",cancelAnimationFrame(a),setTimeout((()=>{e.style.transition="0.2s",e.style.backgroundColor="rgba(0, 0, 0, .5)"}),0)),s+=.2,r-=s};e.addEventListener("click",(t=>{t.target.closest(".popup-content")&&!t.target.classList.contains("popup-close")||(e.querySelectorAll("input").forEach((e=>{e.value=""})),e.style.display="",e.style.transition="",e.style.transform="translateY(-110%)",e.style.backgroundColor="rgba(0, 0, 0, 0)")})),t.addEventListener("click",(t=>{t.target.matches(".popup-btn")&&(e.style.display="block",e.style.transform="translateY(-110%)",e.style.backgroundColor="rgba(0, 0, 0, 0)",r=110,s=5,n())}))})(),(()=>{const e=document.querySelector("menu"),t=document.getElementById("chevron"),a=e=>{document.getElementById(e.getAttribute("href").slice(1)).scrollIntoView({block:"start",behavior:"smooth"})};e.addEventListener("click",(e=>{e.target.matches("ul > li > a")&&(e.preventDefault(),a(e.target))})),t.addEventListener("click",(e=>{e.preventDefault(),a(t)}))})(),(()=>{const e=document.querySelector(".calc-block"),t=document.querySelector("#form1"),a=document.querySelector("#form2"),r=document.querySelector("#form3"),s=e=>{switch(""!==e.value){case"text"===e.type:if("Ваше сообщение"===e.placeholder)e.value=e.value.replace(/[^А-Яа-я\!\?\.\,\-\s]/g,"");else{let t;e.value=e.value.replace(/[^А-Яа-я\-\s]/g,""),e.value=e.value.replace(/[А-Яа-я]/g,(e=>e.toLowerCase())),t=e.value.split(" "),t.forEach(((e,a)=>{/[а-я]/.test(e)&&(t[a]=e[0].toUpperCase()+e.slice(1))})),e.value=t.join(" ")}break;case"email"===e.type:e.value=e.value.replace(/[^A-Za-z\d\@\-\_\.\!\~\*\']/g,"");break;case"tel"===e.type:e.value=e.value.replace(/[^\d\(\)\-]/g,"");break;default:console.log(Error("Wrong input type!"))}e.value=e.value.replace(/\s{2,}/g," "),e.value=e.value.replace(/\-{2,}/g,"-"),e.value=e.value.replace(/^\s/,"").replace(/\s$/,""),e.value=e.value.replace(/^\-/,"").replace(/\-$/,"")};e.addEventListener("input",(e=>{e.target.matches('input[type="text"]')&&(e.target.value=e.target.value.replace(/\D+/,""))})),t.addEventListener("focusout",(e=>{e.target.matches("input")&&s(e.target)})),a.addEventListener("focusout",(e=>{e.target.matches("input")&&s(e.target)})),r.addEventListener("focusout",(e=>{e.target.matches("input")&&s(e.target)}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),a=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{const r=e.target.closest(".service-header-tab");r&&t.forEach(((e,t)=>{e===r?(e.classList.add("active"),a[t].classList.remove("d-none")):(e.classList.remove("active"),a[t].classList.add("d-none"))}))}))})()})();